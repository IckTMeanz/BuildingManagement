<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Danh s√°ch ph∆∞∆°ng ti·ªán</title>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            padding: 40px 0;
        }
        .table th, .table td {
            vertical-align: middle;
        }
        .modal-header {
            background-color: #1e3a8a;
            color: white;
        }
        .btn-success, .btn-danger {
            min-width: 80px;
        }
    </style>
</head>
<body>
<div class="container">
    <h2 class="mb-4 text-primary">üìã Danh s√°ch ph∆∞∆°ng ti·ªán</h2>
    <button class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#addModal">+ Th√™m ph∆∞∆°ng ti·ªán</button>

    <table class="table table-bordered table-striped shadow-sm">
        <thead class="table-dark">
        <tr>
            <th>Bi·ªÉn s·ªë</th>
            <th>Lo·∫°i xe</th>
            <th>M√†u s·∫Øc</th>
            <th>H·ªô kh·∫©u</th>
            <th>Tr·∫°ng th√°i</th>
            <th>H√†nh ƒë·ªông</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="pt : ${list}">
            <td th:text="${pt.biensoxe}"></td>
            <td th:text="${pt.loaixe}"></td>
            <td th:text="${pt.mausac}"></td>
            <td th:text="${pt.hokhau.sohokhau}"></td>
            <td>
                <span class="badge bg-success" th:if="${pt.trangthai.equals('ƒê√£ duy·ªát')}" th:text="${pt.trangthai}"></span>
                <span class="badge bg-danger" th:if="${pt.trangthai.equals('T·ª´ ch·ªëi')}" th:text="${pt.trangthai}"></span>
                <span class="badge bg-warning text-dark" th:if="${pt.trangthai != 'ƒê√£ duy·ªát' and pt.trangthai != 'T·ª´ ch·ªëi'}" th:text="${pt.trangthai}"></span>

            </td>
            <td>
                <form th:action="@{/phuongtien/delete/{id}(id=${pt.biensoxe})}" method="post"
                      onsubmit="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a?');">
                    <button class="btn btn-danger btn-sm">Xo√°</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<!-- Modal th√™m ph∆∞∆°ng ti·ªán -->
<div class="modal fade" id="addModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <form th:action="@{/phuongtien/save}" method="post" th:object="${newPhuongTien}">
                <div class="modal-header">
                    <h5 class="modal-title">üöó Th√™m ph∆∞∆°ng ti·ªán</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <label>Bi·ªÉn s·ªë</label>
                    <input type="text" th:field="*{biensoxe}" class="form-control" required />

                    <label>Lo·∫°i xe</label>
                    <input type="text" th:field="*{loaixe}" class="form-control" required />

                    <label>M√†u s·∫Øc</label>
                    <input type="text" th:field="*{mausac}" class="form-control" required />

                    <label>Ch·ªçn h·ªô kh·∫©u</label>
                    <select class="form-select" th:field="*{hokhau.sohokhau}" required>
                        <option th:each="hk : ${dsHoKhau}" th:value="${hk.sohokhau}" th:text="${hk.sohokhau}"></option>
                    </select>

                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary">L∆∞u</button>
                    <button class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
